{"ast":null,"code":"import React,{useEffect,useState}from'react';import axios from'axios';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Main(){const[assets,setAssets]=useState([]);const[categoryFilter,setCategoryFilter]=useState('');const token=localStorage.getItem('token');const navigate=useNavigate();// Fetch all assets or by category\nuseEffect(()=>{const fetchAssets=async()=>{try{let url='https://adicloud.onrender.com/assets';if(categoryFilter){url+=`?category=${categoryFilter}`;}const res=await axios.get(url,{headers:{Authorization:`Bearer ${token}`}});setAssets(res.data);}catch(err){console.error('Error fetching assets:',err);}};fetchAssets();},[categoryFilter,token]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"User Dashboard\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/user/requests'),children:\"View My Requests\"}),/*#__PURE__*/_jsxs(\"select\",{onChange:e=>setCategoryFilter(e.target.value),value:categoryFilter,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Categories\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Marketing\",children:\"Marketing\"}),/*#__PURE__*/_jsx(\"option\",{value:\"PromoPack\",children:\"PromoPack\"})]}),/*#__PURE__*/_jsx(\"ul\",{children:assets.map(asset=>/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:asset.name}),\" - \",asset.category,/*#__PURE__*/_jsx(\"ul\",{children:asset.files.map((file,index)=>/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"a\",{href:file,target:\"_blank\",rel:\"noopener noreferrer\",children:[\"View File \",index+1]})},index))})]},asset._id))})]});}export default Main;","map":{"version":3,"names":["React","useEffect","useState","axios","useNavigate","jsx","_jsx","jsxs","_jsxs","Main","assets","setAssets","categoryFilter","setCategoryFilter","token","localStorage","getItem","navigate","fetchAssets","url","res","get","headers","Authorization","data","err","console","error","children","onClick","onChange","e","target","value","map","asset","name","category","files","file","index","href","rel","_id"],"sources":["C:/Adicloud/adicloud-frontend/src/pages/Main.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nfunction Main() {\r\n  const [assets, setAssets] = useState([]);\r\n  const [categoryFilter, setCategoryFilter] = useState('');\r\n  const token = localStorage.getItem('token');\r\n  const navigate = useNavigate();\r\n\r\n  // Fetch all assets or by category\r\n  useEffect(() => {\r\n    const fetchAssets = async () => {\r\n      try {\r\n        let url = 'https://adicloud.onrender.com/assets';\r\n        if (categoryFilter) {\r\n          url += `?category=${categoryFilter}`;\r\n        }\r\n\r\n        const res = await axios.get(url, {\r\n          headers: { Authorization: `Bearer ${token}` }\r\n        });\r\n\r\n        setAssets(res.data);\r\n      } catch (err) {\r\n        console.error('Error fetching assets:', err);\r\n      }\r\n    };\r\n\r\n    fetchAssets();\r\n  }, [categoryFilter, token]);\r\n\r\n  return (\r\n    <div>\r\n      <h2>User Dashboard</h2>\r\n\r\n      {/* Button to go to My Requests */}\r\n      <button onClick={() => navigate('/user/requests')}>\r\n        View My Requests\r\n      </button>\r\n\r\n      {/* Category filter */}\r\n      <select onChange={(e) => setCategoryFilter(e.target.value)} value={categoryFilter}>\r\n        <option value=\"\">All Categories</option>\r\n        <option value=\"Marketing\">Marketing</option>\r\n        <option value=\"PromoPack\">PromoPack</option>\r\n        {/* Add more categories as needed */}\r\n      </select>\r\n\r\n      {/* List of assets */}\r\n      <ul>\r\n        {assets.map((asset) => (\r\n          <li key={asset._id}>\r\n            <strong>{asset.name}</strong> - {asset.category}\r\n            <ul>\r\n              {asset.files.map((file, index) => (\r\n                <li key={index}>\r\n                  <a href={file} target=\"_blank\" rel=\"noopener noreferrer\">View File {index + 1}</a>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,WAAW,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE/C,QAAS,CAAAC,IAAIA,CAAA,CAAG,CACd,KAAM,CAACC,MAAM,CAAEC,SAAS,CAAC,CAAGT,QAAQ,CAAC,EAAE,CAAC,CACxC,KAAM,CAACU,cAAc,CAAEC,iBAAiB,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CACxD,KAAM,CAAAY,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C,KAAM,CAAAC,QAAQ,CAAGb,WAAW,CAAC,CAAC,CAE9B;AACAH,SAAS,CAAC,IAAM,CACd,KAAM,CAAAiB,WAAW,CAAG,KAAAA,CAAA,GAAY,CAC9B,GAAI,CACF,GAAI,CAAAC,GAAG,CAAG,sCAAsC,CAChD,GAAIP,cAAc,CAAE,CAClBO,GAAG,EAAI,aAAaP,cAAc,EAAE,CACtC,CAEA,KAAM,CAAAQ,GAAG,CAAG,KAAM,CAAAjB,KAAK,CAACkB,GAAG,CAACF,GAAG,CAAE,CAC/BG,OAAO,CAAE,CAAEC,aAAa,CAAE,UAAUT,KAAK,EAAG,CAC9C,CAAC,CAAC,CAEFH,SAAS,CAACS,GAAG,CAACI,IAAI,CAAC,CACrB,CAAE,MAAOC,GAAG,CAAE,CACZC,OAAO,CAACC,KAAK,CAAC,wBAAwB,CAAEF,GAAG,CAAC,CAC9C,CACF,CAAC,CAEDP,WAAW,CAAC,CAAC,CACf,CAAC,CAAE,CAACN,cAAc,CAAEE,KAAK,CAAC,CAAC,CAE3B,mBACEN,KAAA,QAAAoB,QAAA,eACEtB,IAAA,OAAAsB,QAAA,CAAI,gBAAc,CAAI,CAAC,cAGvBtB,IAAA,WAAQuB,OAAO,CAAEA,CAAA,GAAMZ,QAAQ,CAAC,gBAAgB,CAAE,CAAAW,QAAA,CAAC,kBAEnD,CAAQ,CAAC,cAGTpB,KAAA,WAAQsB,QAAQ,CAAGC,CAAC,EAAKlB,iBAAiB,CAACkB,CAAC,CAACC,MAAM,CAACC,KAAK,CAAE,CAACA,KAAK,CAAErB,cAAe,CAAAgB,QAAA,eAChFtB,IAAA,WAAQ2B,KAAK,CAAC,EAAE,CAAAL,QAAA,CAAC,gBAAc,CAAQ,CAAC,cACxCtB,IAAA,WAAQ2B,KAAK,CAAC,WAAW,CAAAL,QAAA,CAAC,WAAS,CAAQ,CAAC,cAC5CtB,IAAA,WAAQ2B,KAAK,CAAC,WAAW,CAAAL,QAAA,CAAC,WAAS,CAAQ,CAAC,EAEtC,CAAC,cAGTtB,IAAA,OAAAsB,QAAA,CACGlB,MAAM,CAACwB,GAAG,CAAEC,KAAK,eAChB3B,KAAA,OAAAoB,QAAA,eACEtB,IAAA,WAAAsB,QAAA,CAASO,KAAK,CAACC,IAAI,CAAS,CAAC,MAAG,CAACD,KAAK,CAACE,QAAQ,cAC/C/B,IAAA,OAAAsB,QAAA,CACGO,KAAK,CAACG,KAAK,CAACJ,GAAG,CAAC,CAACK,IAAI,CAAEC,KAAK,gBAC3BlC,IAAA,OAAAsB,QAAA,cACEpB,KAAA,MAAGiC,IAAI,CAAEF,IAAK,CAACP,MAAM,CAAC,QAAQ,CAACU,GAAG,CAAC,qBAAqB,CAAAd,QAAA,EAAC,YAAU,CAACY,KAAK,CAAG,CAAC,EAAI,CAAC,EAD3EA,KAEL,CACL,CAAC,CACA,CAAC,GAREL,KAAK,CAACQ,GASX,CACL,CAAC,CACA,CAAC,EACF,CAAC,CAEV,CAEA,cAAe,CAAAlC,IAAI","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}