{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import LogoC from'../assets/adicould.svg';import IconProfile from'../assets/icon_profile.svg';import'../dropdownmenuA.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Header=_ref=>{let{statusFilter,setStatusFilter}=_ref;const[showDropdown,setShowDropdown]=useState(false);const[userName,setUserName]=useState('');const dropdownRef=useRef(null);useEffect(()=>{const handleClickOutside=e=>{if(dropdownRef.current&&!dropdownRef.current.contains(e.target)){setShowDropdown(false);}};document.addEventListener('mousedown',handleClickOutside);return()=>{document.removeEventListener('mousedown',handleClickOutside);};},[]);useEffect(()=>{const token=localStorage.getItem('token');if(token){fetch('https://adicloud.onrender.com/profile',{headers:{'Authorization':`Bearer ${token}`}}).then(res=>res.json()).then(data=>{if(data.user&&data.user.name){setUserName(data.user.name);}else{setUserName('user');}}).catch(()=>setUserName('userName'));}},[]);return/*#__PURE__*/_jsx(\"header\",{className:\"header\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"headerbox\",children:[/*#__PURE__*/_jsx(\"img\",{src:LogoC,alt:\"Logo\",className:\"logoC\"}),/*#__PURE__*/_jsxs(\"nav\",{className:\"menu1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"requestmenu\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"/dashboard\",className:\"dropbtn\",children:\"Requests\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"dpdcont\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"/dashboard\",children:\"All\"}),/*#__PURE__*/_jsx(\"a\",{href:\"/dashboard/Pending\",children:\"Pending\"}),/*#__PURE__*/_jsx(\"a\",{href:\"/dashboard/Approved\",children:\"Approved\"}),/*#__PURE__*/_jsx(\"a\",{href:\"/dashboard/Rejected\",children:\"Rejected\"})]})]}),/*#__PURE__*/_jsx(\"a\",{href:\"/\",className:\"dropbtn gallery\",children:\" Gallery\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"user-info\",ref:dropdownRef,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile-menu\",onClick:()=>setShowDropdown(!showDropdown),children:[/*#__PURE__*/_jsxs(\"span\",{className:\"maxW\",children:[\"Hi, \",userName||'...']}),/*#__PURE__*/_jsx(\"img\",{src:IconProfile,alt:\"Usuario\",className:\"user-icon\"})]}),showDropdown&&/*#__PURE__*/_jsxs(\"div\",{className:\"profile-dropdown\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"/requests\",children:\"Requests\"}),/*#__PURE__*/_jsx(\"a\",{href:\"/\",children:\"Log Out\"})]})]})]})});};export default Header;","map":{"version":3,"names":["React","useState","useEffect","useRef","LogoC","IconProfile","jsx","_jsx","jsxs","_jsxs","Header","_ref","statusFilter","setStatusFilter","showDropdown","setShowDropdown","userName","setUserName","dropdownRef","handleClickOutside","e","current","contains","target","document","addEventListener","removeEventListener","token","localStorage","getItem","fetch","headers","then","res","json","data","user","name","catch","className","children","src","alt","href","ref","onClick"],"sources":["C:/Adicloud/adicloud-frontend/src/pages/components/Header.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport LogoC from '../assets/adicould.svg';\r\nimport IconProfile from '../assets/icon_profile.svg';\r\nimport '../dropdownmenuA.css';\r\n\r\nconst Header = ({ statusFilter, setStatusFilter }) => {\r\n    const [showDropdown, setShowDropdown] = useState(false);\r\n    const [userName, setUserName] = useState('');\r\n    const dropdownRef = useRef(null);\r\n\r\n    useEffect(() => {\r\n        const handleClickOutside = (e) => {\r\n            if (dropdownRef.current && !dropdownRef.current.contains(e.target)) {\r\n                setShowDropdown(false);\r\n            }\r\n        };\r\n\r\n        document.addEventListener('mousedown', handleClickOutside);\r\n        return () => {\r\n            document.removeEventListener('mousedown', handleClickOutside);\r\n        };\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        const token = localStorage.getItem('token');\r\n        if (token) {\r\n            fetch('https://adicloud.onrender.com/profile', {\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`\r\n                }\r\n            })\r\n            .then(res => res.json())\r\n            .then(data => {\r\n                if (data.user && data.user.name) {\r\n                    setUserName(data.user.name);\r\n                } else {\r\n                    setUserName('user');\r\n                }\r\n            })\r\n            .catch(() => setUserName('userName'));\r\n        }\r\n    }, []);\r\n\r\n    return(\r\n        <header className=\"header\">\r\n            <div className=\"headerbox\">\r\n                    <img src={LogoC} alt=\"Logo\" className=\"logoC\" />\r\n                <nav className=\"menu1\">\r\n                    <div className=\"requestmenu\">\r\n                        <a href=\"/dashboard\" className= \"dropbtn\">Requests</a>\r\n                        <div className=\"dpdcont\">\r\n                            <a href=\"/dashboard\">All</a>\r\n                            <a href=\"/dashboard/Pending\" >Pending</a>\r\n                            <a href=\"/dashboard/Approved\" >Approved</a>\r\n                            <a href=\"/dashboard/Rejected\">Rejected</a>\r\n                        </div>\r\n                    </div>\r\n                    <a href=\"/\" className= \"dropbtn gallery\"> Gallery</a>\r\n                </nav>\r\n\r\n                <div className=\"user-info\" ref={dropdownRef}>\r\n                    <div className=\"profile-menu\" onClick={() => setShowDropdown(!showDropdown)}>\r\n                        <span className='maxW'>Hi, {userName || '...'}</span>\r\n                        <img src={IconProfile} alt=\"Usuario\" className=\"user-icon\" />\r\n                    </div>\r\n\r\n                    {showDropdown && (\r\n                    <div className=\"profile-dropdown\">\r\n                        <a href=\"/requests\">Requests</a>\r\n                        <a href=\"/\">Log Out</a>\r\n                    </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </header>\r\n    );\r\n};\r\n\r\nexport default Header;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}